__NUXT_JSONP__("/articles/jpa-study-week2", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW){return {data:[{article:{slug:"jpa-study-week2",description:"3장 영속성 관리",title:"JPA 스터디 2주차",category:"Back-End",author:ar,featured:"none",toc:[{id:aE,depth:N,text:aF},{id:aG,depth:N,text:aH},{id:aI,depth:N,text:aJ},{id:aK,depth:N,text:aL},{id:aM,depth:N,text:aN},{id:af,depth:y,text:af},{id:ag,depth:y,text:ag},{id:$,depth:y,text:$},{id:ac,depth:y,text:ac},{id:aO,depth:N,text:aP},{id:aQ,depth:y,text:aR},{id:aS,depth:y,text:aT},{id:aU,depth:y,text:aV},{id:aW,depth:N,text:aX},{id:aY,depth:y,text:as},{id:aZ,depth:y,text:a_},{id:a$,depth:y,text:ba},{id:bb,depth:y,text:bc},{id:bd,depth:N,text:be},{id:bf,depth:y,text:bg},{id:bh,depth:y,text:bi},{id:bj,depth:N,text:bk},{id:bl,depth:N,text:"플러시 flush()"},{id:bm,depth:y,text:bn},{id:bo,depth:y,text:bp},{id:bq,depth:y,text:at},{id:br,depth:N,text:$},{id:bs,depth:y,text:bt},{id:bu,depth:y,text:bv},{id:bw,depth:y,text:bx},{id:by,depth:y,text:bz},{id:bA,depth:y,text:bB}],body:{type:"root",children:[{type:b,tag:o,props:{},children:[{type:a,value:"JPA가 제공하는 기능은 크게"}]},{type:a,value:e},{type:b,tag:W,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"엔티티와 테이블을 매핑하는 설계 부분"}]},{type:a,value:"과"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"매핑한 엔티티를 실제 사용하는 부분"}]},{type:a,value:"으로 나눌 수 있습니다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:O,props:{id:aE},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%97%94%ED%8B%B0%ED%8B%B0entity%EB%9E%80",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:aF}]},{type:a,value:e},{type:b,tag:L,props:{},children:[]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"데이터의 집합"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"저장되고, 관리되어야 하는 데이터를 의미"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:O,props:{id:aG},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%97%94%ED%8B%B0%ED%8B%B0-%EB%A7%A4%EB%8B%88%EC%A0%80entitymanager%EB%9E%80",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:aH}]},{type:a,value:e},{type:b,tag:L,props:{},children:[]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"엔티티를 "},{type:b,tag:i,props:{},children:[{type:a,value:"저장"}]},{type:a,value:au},{type:b,tag:i,props:{},children:[{type:a,value:"수정"}]},{type:a,value:au},{type:b,tag:i,props:{},children:[{type:a,value:ac}]},{type:a,value:au},{type:b,tag:i,props:{},children:[{type:a,value:"조회"}]},{type:a,value:" 등 엔티티와 관련된 모든 일을 처리합니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"엔티티를 저장하는 "},{type:b,tag:i,props:{},children:[{type:a,value:"가상의 데이터베이스"}]},{type:a,value:"라고 생각하면 됩니다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:O,props:{id:aI},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%97%94%ED%8B%B0%ED%8B%B0-%EB%A7%A4%EB%8B%88%EC%A0%80-%ED%8C%A9%ED%86%A0%EB%A6%AC%EC%99%80-%EC%97%94%ED%8B%B0%ED%8B%B0-%EB%A7%A4%EB%8B%88%EC%A0%80",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:aJ}]},{type:a,value:e},{type:b,tag:L,props:{},children:[]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"엔티티 매니저 팩토리란 "},{type:b,tag:i,props:{},children:[{type:a,value:"엔티티 매니저를 만드는 공장"}]}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"엔티티 매니저 팩토리 생성 코드"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,M]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 공장 만들기, 비용이 아주 많이 든다."}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"EntityManagerFactory"}]},{type:a,value:" emf "},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"Persistence"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"createEntityManagerFactory"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:"\"jpabook\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:"Persistence.createEntityManagerFactory(\"jpabook\");"}]},{type:a,value:"를 호출 하면\n.xml에 있는 정보를 바탕으로 EntityManagerFactory를 생성합니다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,"language-xml"]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:X}]},{type:a,value:bC}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,Q]},children:[{type:b,tag:c,props:{className:[d,f,R]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"jpabook"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]}]},{type:a,value:"\n    "},{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:X}]},{type:a,value:"properties"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:X}]},{type:a,value:ai}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,Q]},children:[{type:b,tag:c,props:{className:[d,f,R]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"javax.persistence.jdbc.driver"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,Q]},children:[{type:b,tag:c,props:{className:[d,f,R]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"org.h2.Driver"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:al}]}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:X}]},{type:a,value:ai}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,Q]},children:[{type:b,tag:c,props:{className:[d,f,R]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"javax.persistence.jdbc.user"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,Q]},children:[{type:b,tag:c,props:{className:[d,f,R]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"sa"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:al}]}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:X}]},{type:a,value:ai}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,Q]},children:[{type:b,tag:c,props:{className:[d,f,R]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"javax.persistence.jdbc.password"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,Q]},children:[{type:b,tag:c,props:{className:[d,f,R]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:al}]}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:X}]},{type:a,value:ai}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,Q]},children:[{type:b,tag:c,props:{className:[d,f,R]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"javax.persistence.jdbc.url"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,Q]},children:[{type:b,tag:c,props:{className:[d,f,R]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"jdbc:h2:tcp:\u002F\u002Flocalhost\u002F~\u002Ftest"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:al}]}]},{type:a,value:"\n        ...\n"},{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,E]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"\u003C\u002F"}]},{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:L,props:{},children:[]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"팩토리를 만든 후 필요할 때마다 엔티티 매니저를 생성하면 됩니다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,M]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 공장에서 엔티티 매니저 생성, 비용이 거의 안 든다."}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:av}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"팩토리를 만드는 비용이 크기 때문에\n"},{type:b,tag:i,props:{},children:[{type:a,value:"한 개만 만든 후 애플리케이션 전체에서 공유하도록 설계"}]},{type:a,value:"되어 있습니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"엔티티 매니저 팩토리"}]},{type:a,value:"는 여러 스레드가 동시에 접근해도 안전하므로\n"},{type:b,tag:i,props:{},children:[{type:a,value:"서로 다른 스레드 간에 공유 가능"}]}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"엔티티 매니저"}]},{type:a,value:"는 여러 스레드가 동시에 접근하면 "},{type:b,tag:i,props:{},children:[{type:a,value:"동시성 문제가 발생"}]},{type:a,value:"하므로\n"},{type:b,tag:i,props:{},children:[{type:a,value:"스레드 간에 공유 불가"}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:"일반적인 웹 어플리케이션",src:"\u002Fjpa-study-week2\u002F3_1.png"},children:[]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"그림을 보면 EntityManagerFactory에서 다수의 엔티티 매니저를 생성했습니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"EntityManager1은 "},{type:b,tag:i,props:{},children:[{type:a,value:"데이터베이스 연결이 꼭 필요한 시점까지 커넥션을 얻지 않습니다."}]}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"EntityManager2는 커넥션을 사용중, "},{type:b,tag:i,props:{},children:[{type:a,value:"보통 트랜잭션을 시작할 때 커넥션을 획득"}]},{type:a,value:am}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:an,props:{},children:[{type:a,value:"\n💡 JPA 구현체들은 EntityManagerFactory를 생성할 때 커넥션풀도 만든다. (J2SE 환경)\nJPA를 J2SE 환경에서 사용하면 해당 컨테이너가 제공하는 데이터소스를 사용한다. (자세한건 11장)\n"}]},{type:a,value:e},{type:b,tag:O,props:{id:aK},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%98%81%EC%86%8D%EC%84%B1-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8persistence-context%EB%9E%80",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:aL}]},{type:a,value:e},{type:b,tag:L,props:{},children:[]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"엔티티를 영구 저장하는 환경"}]}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"엔티티 매니저로 "},{type:b,tag:i,props:{},children:[{type:a,value:"엔티티를 저장하거나 조회하면"}]},{type:a,value:"\n엔티티 매니저는 "},{type:b,tag:i,props:{},children:[{type:a,value:"영속성 컨텍스트에 엔티티를 보관하고 관리"}]},{type:a,value:am}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:".persist()"}]},{type:a,value:" 메소드는 엔티티 매니저를 사용해서 "},{type:b,tag:i,props:{},children:[{type:a,value:"엔티티를 영속성 컨텍스트에 저장"}]},{type:a,value:"합니다.\nEx) "},{type:b,tag:v,props:{},children:[{type:a,value:"em.persist(member);"}]},{type:a,value:" ⇒ 회원 엔티티를 저장"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:an,props:{},children:[{type:a,value:"\n💡 여러 엔티티 매니저가 같은 영속성 컨텍스트에 접근할 수도 있습니다.\n"}]},{type:a,value:e},{type:b,tag:O,props:{id:aM},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%97%94%ED%8B%B0%ED%8B%B0%EC%9D%98-%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:aN}]},{type:a,value:e},{type:b,tag:L,props:{},children:[]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"엔티티의 4가지 상태"}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"비영속(new\u002Ftransient): 영속성 컨텍스트와 전혀 관계가 없는 상태"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"영속(managed): 영속성 컨텍스트에 저장된 상태"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"준영속(detached): 영속성 컨텍스트에 저장되었다가 분리된 상태"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"삭제(removed): 삭제된 상태"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:"생명주기",src:"\u002Fjpa-study-week2\u002F3_2.png"},children:[]}]},{type:a,value:e},{type:b,tag:A,props:{id:af},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EB%B9%84%EC%98%81%EC%86%8D",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:af}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"엔티티 객체를 생성 후 저장하지 않은 상태"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:"em.persist() 호출 전, 비영속 상태",src:"\u002Fjpa-study-week2\u002F3_3.png"},children:[]}]},{type:a,value:e},{type:b,tag:A,props:{id:ag},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%98%81%EC%86%8D",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ag}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"영속성 컨텍스트에 저장"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"영속성 컨텍스트에 의해 관리된다는 뜻"}]}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"em.find() 나 JPQL을 사용해서 조회한 엔티티도 영속 상태를 의미"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:"em.persist() 호출 후, 영속 상태",src:"\u002Fjpa-study-week2\u002F3_4.png"},children:[]}]},{type:a,value:e},{type:b,tag:A,props:{id:$},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%A4%80%EC%98%81%EC%86%8D",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:$}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"영속 상태 엔티티를 관리하지 않으면 준영속 상태가 됩니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"em.detach() : 특정 엔티티를 준영속 상태로 만든다.\nem.close() : 영속성 컨텍스트를 닫는다.\nem.clear() : 영속성 컨텍스트 초기화"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,M]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 회원 엔티티를 영속성 컨텍스트에서 분리, 준영속 상태"}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"detach"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:A,props:{id:ac},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%82%AD%EC%A0%9C",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ac}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"엔티티를 영속성 컨텍스트와 데이터베이스에서 삭제"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,M]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 객체를 삭제한 상태(삭제)"}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bD}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:O,props:{id:aO},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%98%81%EC%86%8D%EC%84%B1-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EC%9D%98-%ED%8A%B9%EC%A7%95",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:aP}]},{type:a,value:e},{type:b,tag:L,props:{},children:[]},{type:a,value:e},{type:b,tag:A,props:{id:aQ},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#1-%EC%98%81%EC%86%8D%EC%84%B1-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EC%99%80-%EC%8B%9D%EB%B3%84%EC%9E%90-%EA%B0%92",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:aR}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"영속성 컨텍스트는 "},{type:b,tag:i,props:{},children:[{type:a,value:"엔티티를 식별자 값(@Id로 테이블의 기본 키와 매핑한 값)으로 구분"}]},{type:a,value:am}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"따라서 "},{type:b,tag:i,props:{},children:[{type:a,value:"영속 상태는 식별자 값이 반드시 있어야 합니다."}]},{type:a,value:" (❗️없으면 예외 발생❗️)"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:A,props:{id:aS},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#2-%EC%98%81%EC%86%8D%EC%84%B1-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EC%99%80-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%A0%80%EC%9E%A5",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:aT}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"JPA는 보통 "},{type:b,tag:i,props:{},children:[{type:a,value:"트랜잭션을 커밋하는 순간"}]},{type:a,value:" 영속성 컨텍스트에 새로 저장된 엔티티를 데이터베이스에 반영합니다.\n⇒ 이를 **플러시(flush)**라고 합니다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:A,props:{id:aU},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#3-%EC%98%81%EC%86%8D%EC%84%B1-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EC%9D%98-%EC%97%94%ED%8B%B0%ED%8B%B0-%EA%B4%80%EB%A6%AC-%EC%9E%A5%EC%A0%90",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:aV}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"1차 캐시 : 영속성 컨텍스트 내부에 있는 캐시"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"동일성 보장"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"트랜잭션을 지원하는 쓰기 지연"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:bE}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"지연 로딩"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:O,props:{id:aW},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%97%94%ED%8B%B0%ED%8B%B0-%EC%A1%B0%ED%9A%8C",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:aX}]},{type:a,value:e},{type:b,tag:L,props:{},children:[]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"영속 상태의 엔티티는 1차 캐시에 저장됩니다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"Map으로 생각하면 다음과 같습니다."}]},{type:a,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:b,tag:"table",props:{},children:[{type:b,tag:"thead",props:{},children:[{type:b,tag:bF,props:{},children:[{type:b,tag:bG,props:{},children:[{type:a,value:"Key"}]},{type:b,tag:bG,props:{},children:[{type:a,value:"Value"}]}]}]},{type:b,tag:"tbody",props:{},children:[{type:b,tag:bF,props:{},children:[{type:b,tag:bH,props:{},children:[{type:a,value:"@Id로 매핑한 식별자"}]},{type:b,tag:bH,props:{},children:[{type:a,value:"엔티티 인스턴스"}]}]}]}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,M]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 엔티티를 생성한 상태 (비영속)"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:bI}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bJ}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 엔티티를 영속"}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"위 코드를 실행하면 다음 그림과 같습니다."}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:"영속성 컨텍스트 1차 캐시",src:"\u002Fjpa-study-week2\u002F3_5.png"},children:[]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"1차 캐시에 회원 엔티티를 저장했지만 데이터베이스에 저장되지는 않았습니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"식별자 값"}]},{type:a,value:"은 "},{type:b,tag:i,props:{},children:[{type:a,value:"데이터베이스 기본 키"}]},{type:a,value:"와 매핑되어 있습니다.\n⇒ 즉, "},{type:b,tag:i,props:{},children:[{type:a,value:"데이터를 저장하고 조회하는 모든 기준은 데이터베이스 기본 키 값입니다."}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:A,props:{id:aY},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#1%EC%B0%A8-%EC%BA%90%EC%8B%9C%EC%97%90%EC%84%9C-%EC%A1%B0%ED%9A%8C",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:as}]},{type:a,value:e},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,M]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:_}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:"find(엔티티 클래스 타입, 조회할 식별자 값)"}]},{type:a,value:" 메소드로 엔티티를 조회합니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"1차 캐시에 엔티티가 없으면 데이터베이스에서 조회합니다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:as,src:"\u002Fjpa-study-week2\u002F3_6.png"},children:[]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"1차 캐시에 있는 엔티티 조회"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,M]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:bI}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bJ}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 1차 캐시에 저장됨"}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 1차 캐시에서 조회"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:a,value:" findMember "},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:_}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:A,props:{id:aZ},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%EC%97%90%EC%84%9C-%EC%A1%B0%ED%9A%8C",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:a_}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"1차 캐시에 없으면 엔티티 매니저가 데이터베이스를 조회해서 엔티티 생성\n"},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"1차 캐시에 저장 후 영속 상태의 엔티티 반환"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:"1차 캐시에 없어 데이터베이스 조회",src:"\u002Fjpa-study-week2\u002F3_7.png"},children:[]}]},{type:a,value:e},{type:b,tag:A,props:{id:a$},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%98%81%EC%86%8D-%EC%97%94%ED%8B%B0%ED%8B%B0%EC%9D%98-%EB%8F%99%EC%9D%BC%EC%84%B1-%EB%B3%B4%EC%9E%A5",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ba}]},{type:a,value:e},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,M]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aq}]},{type:a,value:" a "},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:_}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aq}]},{type:a,value:" b "},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:_}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"영속성 컨텍스트는 성능상 이점과 엔티티의 동일성을 보장한다!\na == b"}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:A,props:{id:bb},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%97%94%ED%8B%B0%ED%8B%B0-%EB%93%B1%EB%A1%9D",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:bc}]},{type:a,value:e},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,M]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:av}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bL}]},{type:a,value:bM},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 엔티티 매니저는 데이터 변경 시 트랜잭션을 시작해야 한다."}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bO}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F [트랜잭션] 시작"}]},{type:a,value:"\n\nem"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 여기까지 INSERT SQL을 데이터베이스에 보내지 않는다."}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 커밋하는 순간 데이터베이스에 INSERT SQL을 보낸다."}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bQ}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F [트랜잭션] 커밋"}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:W,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"커밋하기 전까지 내부 쿼리 저장소에 INSERT SQL을 모아둡니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"커밋할 때 모아둔 쿼리를 데이터베이스에 보냅니다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"⇒ 이를 **쓰기 지연(transactional write-behind)**이라 합니다."}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:"쓰기 지연, 커밋",src:"\u002Fjpa-study-week2\u002F3_10.png"},children:[]}]},{type:a,value:e},{type:b,tag:an,props:{},children:[{type:a,value:"\n💡 flush : 영속성 컨텍스트의 변경 내용을 데이터베이스에 동기화하는 작업\n→ 등록, 수정, 삭제한 엔티티를 데이터베이스에 반영한다.\n"}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"즉,"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"영속화 "},{type:b,tag:v,props:{},children:[{type:a,value:"persist()"}]},{type:a,value:" ⇒ 1차 캐시 저장 & 쓰기 지연 SQL 저장소에 저장(INSERT SQL 생성)"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"커밋 "},{type:b,tag:v,props:{},children:[{type:a,value:"commit()"}]},{type:a,value:" ⇒ 데이터베이스에 반영"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:O,props:{id:bd},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%97%94%ED%8B%B0%ED%8B%B0-%EC%88%98%EC%A0%95",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:be}]},{type:a,value:e},{type:b,tag:L,props:{},children:[]},{type:a,value:e},{type:b,tag:A,props:{id:bf},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EB%B3%80%EA%B2%BD-%EA%B0%90%EC%A7%80dirty-checking",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:bg}]},{type:a,value:e},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,M]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:av}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bL}]},{type:a,value:bM},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bO}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 트랜잭션 시작"}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 영속 엔티티 조회"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:_}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:"\"memeberA\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 영속 엔티티 데이터 수정"}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:"\"hi\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"setAge"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,"number"]},children:[{type:a,value:"10"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F em.update(member) 이런 코드가 있어야 하지 않을까?"}]},{type:a,value:"\n\ntransaction"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bQ}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 트랜잭션 커밋"}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"JPA는 엔티티의 "},{type:b,tag:i,props:{},children:[{type:a,value:"변경사항을 데이터베이스에 자동으로 반영"}]},{type:a,value:"합니다.\n⇒ 이를 **변경 감지(dirty checking)**라고 합니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"변경 감지는 "},{type:b,tag:i,props:{},children:[{type:a,value:"영속 상태"}]},{type:a,value:"의 엔티티에만 적용됩니다. (비영속, 준영속 X)"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"JPA는 엔티티의 특정 필드 업데이트가 아닌, "},{type:b,tag:i,props:{},children:[{type:a,value:"모든 필드를 업데이트"}]},{type:a,value:"합니다.\n"},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"장점:"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"수정 쿼리가 항상 같습니다. (바인딩 되는 데이터는 다르다)\n⇒ 수정 쿼리를 미리 생성해두고 재사용할 수 있습니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"데이터베이스에 동일한 쿼리를 보내면 이전에 파싱된 쿼리를 재사용할 수 있습니다."}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"단점:"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"데이터 전송량 증가"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:an,props:{},children:[{type:a,value:"\n💡 데이터 전송량이 너무 크면 하이버네이트 확장 기능을 사용해서 동적으로 UPDATE SQL을 생성하면 된다.\n`@org.hibernate.annotations.DynamicUpdate`\n"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:bE,src:"\u002Fjpa-study-week2\u002F3_11.png"},children:[]}]},{type:a,value:e},{type:b,tag:A,props:{id:bh},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EB%B3%80%EA%B2%BD-%EA%B0%90%EC%A7%80%EC%9D%98-%EC%88%9C%EC%84%9C",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:b,tag:i,props:{},children:[{type:a,value:bi}]}]},{type:a,value:e},{type:b,tag:W,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"커밋하면 엔티티 매니저 내부에서 먼저 "},{type:b,tag:v,props:{},children:[{type:a,value:bT}]},{type:a,value:"가 호출됩니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"엔티티와 스냅샷을 비교 후 변경된 엔티티를 찾습니다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"스냅샷: 영속성 컨텍스트에 보관할 때, 최초의 상태를 복사 후 저장"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:W,props:{start:y},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"수정 쿼리를 생성해서 쓰기 지연 SQL 저장소에 보냅니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"쓰기 지연 저장소의 SQL을 데이터베이스에 보냅니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"데이터베이스 트랜잭션을 커밋합니다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:O,props:{id:bj},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%97%94%ED%8B%B0%ED%8B%B0-%EC%82%AD%EC%A0%9C",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:bk}]},{type:a,value:e},{type:b,tag:L,props:{},children:[]},{type:a,value:e},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,M]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:_}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:"\"memberA\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 삭제 대상 엔티티 조회"}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bD}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 엔티티 삭제"}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:W,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"먼저 삭제 대상 엔티티를 조회합니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"엔티티를 삭제합니다. (영속성 컨텍스트에서도 제거된다)"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:O,props:{id:bl},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%ED%94%8C%EB%9F%AC%EC%8B%9C-flush",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:"플러시 "},{type:b,tag:v,props:{},children:[{type:a,value:bT}]}]},{type:a,value:e},{type:b,tag:L,props:{},children:[]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"영속성 컨텍스트를 플러시하는 3가지 방법"}]}]},{type:a,value:e},{type:b,tag:W,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:"em.flush()"}]},{type:a,value:" 를 직접 호출"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"트랜잭션 커밋 시 자동 호출"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:at}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:A,props:{id:bm},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%A7%81%EC%A0%91-%ED%98%B8%EC%B6%9C",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:bn}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"강제로 플러시 하는 방법"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"테스트나 다른 프레임워크와 JPA를 함께 사용할 때를 제외하고 거의 사용하지 않습니다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:A,props:{id:bo},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EC%BB%A4%EB%B0%8B-%EC%8B%9C-%ED%94%8C%EB%9F%AC%EC%8B%9C-%EC%9E%90%EB%8F%99-%ED%98%B8%EC%B6%9C",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:bp}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"트랜잭션을 커밋하기 전에 플러시를 호출해서 영속성 컨텍스트의 변경 내용을 데이터베이스에 반영해야합니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:bU}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:A,props:{id:bq},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#jpql-%EC%BF%BC%EB%A6%AC-%EC%8B%A4%ED%96%89-%EC%8B%9C-%EC%9E%90%EB%8F%99-%ED%98%B8%EC%B6%9C",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:at}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"객체지향 쿼리를 호출할 때도 자동으로 호출된다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,M]},children:[{type:b,tag:v,props:{},children:[{type:a,value:aD},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:"memberC"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:"\u002F\u002F 중간에 JPQL 실행"}]},{type:a,value:"\nquery "},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"createQuery"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,K]},children:[{type:a,value:"\"select m from Member m\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:_}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"List"}]},{type:b,tag:c,props:{className:[d,"generics"]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]}]},{type:a,value:" members "},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:w}]},{type:a,value:" query"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"getResultList"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:m}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"memberA, memberB, memberC는 영속성 컨텍스트에는 있지만 아직 "},{type:b,tag:i,props:{},children:[{type:a,value:"데이터베이스에 반영되지 않았습니다."}]}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"JPQL은 SQL로 변환되어 "},{type:b,tag:i,props:{},children:[{type:a,value:"데이터베이스에서 엔티티를 조회합니다."}]}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"⇒ 문제점: 데이터베이스에 없는데 데이터베이스에서 조회합니다."}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:bU}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"(단순히 조회하는"},{type:b,tag:v,props:{},children:[{type:a,value:"find()"}]},{type:a,value:" 메소드를 호출할 때는 플러시가 실행되지 않는다.)"}]},{type:a,value:e},{type:b,tag:O,props:{id:br},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%A4%80%EC%98%81%EC%86%8D-1",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:$}]},{type:a,value:e},{type:b,tag:L,props:{},children:[]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"영속성 컨텍스트에서 분리된(detached) 것을 준영속 상태라 합니다."}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"⇒ 영속성 컨텍스트가 제공하는 기능을 사용할 수 없습니다."}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:A,props:{id:bs},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%97%94%ED%8B%B0%ED%8B%B0%EB%A5%BC-%EC%A4%80%EC%98%81%EC%86%8D-%EC%83%81%ED%83%9C%EB%A1%9C-%EC%A0%84%ED%99%98-detach",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:bt}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"1차 캐시부터 쓰기 지연 SQL 저장소까지 해당 엔티티를 관리하기 위한 모든 정보가 제거됩니다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:"detach 실행 전",src:"\u002Fjpa-study-week2\u002F3_12.png"},children:[]}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:"detach 실행 후",src:"\u002Fjpa-study-week2\u002F3_13.png"},children:[]}]},{type:a,value:e},{type:b,tag:A,props:{id:bu},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%98%81%EC%86%8D%EC%84%B1-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8-%EC%B4%88%EA%B8%B0%ED%99%94-clear",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:bv}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:"em.clear();"}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:"영속성 컨텍스트 초기화 후",src:"\u002Fjpa-study-week2\u002F3_15.png"},children:[]}]},{type:a,value:e},{type:b,tag:A,props:{id:bw},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%98%81%EC%86%8D%EC%84%B1-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8-%EC%A2%85%EB%A3%8C-close",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:bx}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:"영속성 컨텍스트 제거 후",src:"\u002Fjpa-study-week2\u002F3_17.png"},children:[]}]},{type:a,value:e},{type:b,tag:A,props:{id:by},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EC%A4%80%EC%98%81%EC%86%8D-%EC%83%81%ED%83%9C%EC%9D%98-%ED%8A%B9%EC%A7%95",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:bz}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"거의 비영속 상태에 가깝습니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"식별자 값을 가지고 있습니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"지연 로딩을 할 수 없습니다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:A,props:{id:bA},children:[{type:b,tag:p,props:{ariaHidden:q,href:"#%EB%B3%91%ED%95%A9-merge",tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:bB}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"준영속 상태의 엔티티를 다시 영속 상태로 변경하는 방법"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:"merge()"}]},{type:a,value:" 메소드는 준영속 상태의 엔티티를 받아서 그 정보로 "},{type:b,tag:i,props:{},children:[{type:a,value:"새로운 영속 상태의 엔티티를 반환합니다."}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:F,props:{alt:"준영속 병합 - 수정",src:"\u002Fjpa-study-week2\u002F3_18.png"},children:[]}]},{type:a,value:e},{type:b,tag:W,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"merge() 를 실행합니다."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"파라미터로 넘어온 준영속 엔티티의 식별자 값으로 1차 캐시에서 엔티티를 조회합니다. (1차 캐시에 없으면 데이터베이스에서 조회 후 1차 캐시에 저장)"}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"조회한 영속 엔티티에 엔티티의 값을 채워 넣습니다(덮어 쓰기)."}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"반환한다."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"병합은 준영속, 비영속을 신경 쓰지 않고 식별자 값으로 엔티티를 조회할 수\n"},{type:b,tag:i,props:{},children:[{type:a,value:"있으면 불러서 병합"}]},{type:a,value:"하고,\n"},{type:b,tag:i,props:{},children:[{type:a,value:"없으면 새로 생성해서 병합"}]},{type:a,value:am}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:bV,props:{},children:[{type:a,value:e},{type:b,tag:o,props:{},children:[{type:a,value:"참고문헌"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:o,props:{},children:[{type:b,tag:aD,props:{},children:[{type:a,value:"김영한,"}]},{type:a,value:x},{type:b,tag:aD,props:{},children:[{type:a,value:"자바 ORM 표준 JPA 프로그래밍(에이콘출판, 2015)"}]}]},{type:a,value:e},{type:b,tag:bV,props:{},children:[{type:a,value:e}]}]},dir:"\u002Farticles",path:"\u002Farticles\u002Fjpa-study-week2",extension:".md",createdAt:"2022-11-13T09:14:27.000Z",updatedAt:"2022-11-16T06:19:49.000Z"},prev:{slug:"ai-ml-study-ch2(1)",title:"(ML) California census data로 분석 과정 살펴보기(1)"},next:{slug:"javascript-basic-study-1",title:"Javascript 데이터 타입과 변수"},member:[{slug:"hyunyeop",name:ar,description:"중앙대학교에서 GDSC 멤버로 활동하고 있습니다. 현재 백엔드 개발에 관심을 가지고 공부하고 있습니다.",role:D,img:"hyunyeop.jpg",dir:"\u002Fmembers",path:"\u002Fmembers\u002Fhyunyeop",extension:".yaml",createdAt:bW,updatedAt:bW}],authorName:ar}],fetch:{},mutations:void 0}}("text","element","span","token","\n","punctuation","li",".","strong","ul","(",")",";","function","p","a","true",-1,"icon","icon-link","class-name","code","="," ",3,"comment","h3","\"","operator","Member","tag","img","div","nuxt-content-highlight","pre","line-numbers","string","hr","language-java",2,"h2","attr-name","attr-value","attr-equals","keyword"," em","\nem","\n\n","ol","\u003C","persist","class",",","준영속","\"member1\"","find","삭제","\n        ","name","비영속","영속","\u003E","property","\n            ","value","\u002F\u003E","합니다.","aside","member","\nmember","Memeber","Hyunyeop Ahn","1차 캐시에서 조회","JPQL 쿼리 실행 시 자동 호출",", ","EntityManager"," em "," emf","createEntityManager"," member ","setUsername","\ntransaction","memberA","em","엔티티entity란","엔티티(Entity)란?","엔티티-매니저entitymanager란","엔티티 매니저(EntityManager)란?","엔티티-매니저-팩토리와-엔티티-매니저","엔티티 매니저 팩토리와 엔티티 매니저","영속성-컨텍스트persistence-context란","영속성 컨텍스트(persistence context)란?","엔티티의-생명주기","엔티티의 생명주기","영속성-컨텍스트의-특징","영속성 컨텍스트의 특징","1-영속성-컨텍스트와-식별자-값","1. 영속성 컨텍스트와 식별자 값","2-영속성-컨텍스트와-데이터베이스-저장","2. 영속성 컨텍스트와 데이터베이스 저장","3-영속성-컨텍스트의-엔티티-관리-장점","3. 영속성 컨텍스트의 엔티티 관리 장점","엔티티-조회","엔티티 조회","1차-캐시에서-조회","데이터베이스에서-조회","데이터베이스에서 조회","영속-엔티티의-동일성-보장","영속 엔티티의 동일성 보장","엔티티-등록","엔티티 등록","엔티티-수정","엔티티 수정","변경-감지dirty-checking","변경 감지**(dirty checking)**","변경-감지의-순서","변경 감지의 순서","엔티티-삭제","엔티티 삭제","플러시-flush","직접-호출","직접 호출","트랜잭션-커밋-시-플러시-자동-호출","트랜잭션 커밋 시 플러시 자동 호출","jpql-쿼리-실행-시-자동-호출","준영속-1","엔티티를-준영속-상태로-전환-detach","엔티티를 준영속 상태로 전환: detach()","영속성-컨텍스트-초기화-clear","영속성 컨텍스트 초기화: clear()","영속성-컨텍스트-종료-close","영속성 컨텍스트 종료: close()","준영속-상태의-특징","준영속 상태의 특징","병합-merge","병합: merge()","persistence-unit","remove","변경 감지","tr","th","td","new","setId","\"회원1\"","EntityTransaction"," transaction ","getTransaction","begin","memberB","commit"," memberA ","\nmemberA","flush()","JPA는 이런 문제를 예방하기 위해 자동으로 호출합니다.","blockquote","2022-10-27T12:04:59.000Z")));